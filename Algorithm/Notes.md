# 线性规划
## 标准形
将`线性规划的一般形式`转化为`标准形`：
1. 目标函数如果是`max`，则把`max`转化为`min`，等式右边取反。
2. 对于约束条件来说，等式右边必须是`非负数`，如果是负数的话，则两边同时变号，$\leq$变成$\geq$，$\geq$变成$\leq$。
3. 对于约束条件来说，符号若是$\leq$，则将$\leq$变成$=$，等式左边加上一个新的变量，称为`松弛变量`。
4. 对于约束条件来说，符号若是$\geq$，则将$\geq$变成$=$，等式左边减去一个新的变量，称为`剩余变量`。
5. 对于变量来说，如果有自由变量$x_j$，则将自由变量$x_j$替换为$x^{'}_j-x^{''}_j$，且$x^{'}_j\geq 0,x^{''}_j\geq 0$。

理论说起来总是很抽象，下面有个例子：
写出下述线性规划的标准形：
$$
max\ \ \ z=3x_1-2x_2+x_3 \\
s.t.\ \ \ x_1+3x_2-3x_3 \leq 10 \\
4x_1-x_2-5x_3 \leq -30 \\
x_1\geq 0,\ x_2\geq 0,\ x_3任意
$$
解：
1. 首先看上面的`1`发现目标函数是`max`，于是将`max`转化为`min`，然后等式取反为：$min\ z^{'}=-3x_1+2x_2-x_3$。
2. 再看上面的`2`发现约束条件的第二个式子右边是`负数`，所以变为：$-4x_1+x_2+5x_3\geq 30$。
3. 再把不是`=`的式子转化一下：第一个式子转化为$x_1+3x_2-3x_3+x_4=10$，因为$x$有1,2,3的下标，所以引入的新变量命名为$x_4$；第二个式子在`第二步`的基础上转化为$-4x_1+x_2+5x_3-x_5=30$，因为$x$已经有了$x_4$，所以引入的新变量为$x_5$。
4. 检查是否有自由变量，发现$x_3$是自由变量，因为上述的三个式子都有$x_3$，所以都得需要改：目标函数改为$z^{'}=-3x_1+2x_2-x^{'}_3+x^{''}_3$；约束条件的第一个式子改为$x_1+3x_2-3x^{'}_3+3x^{''}_3+x_4=10$；约束条件的第二个式子改为$-4x_1+x_2+5x^{'}_3-5x^{''}_3-x_5=30$

宗上，答案为：
$$
min\ \ \ z^{'}=-3x_1+2x_2-x^{'}_3+x^{''}_3\\
s.t.\ \ \ x_1+3x_2-3x^{'}_3+3x^{''}_3+x_4=10\\
-4x_1+x_2+5x^{'}_3-5x^{''}_3-x_5=30\\
x_1,x_2,x^{'}_3,x^{''}_3,x_4,x_5\geq 0
$$

## 单纯形法
一些问题需要用单纯形法来解决线性规划问题，所以需要制作一个单纯形表，但是单纯形表的具体初始化的参数是需要确定的，具体的参数就是将线性规划的一般形式转化为标准形，然后填入其中，先选择表中的列，然后选择表中的行。

## 对偶单纯形
对偶单纯形法是需要从原始规划变为对偶形规划，原始规划的形式不是标准形，而是这样子的：
1. 目标函数转化为`max`。
2. 约束条件的$\geq$变为$\leq$。

然后就很容易的将原始规划变为对偶形规划：
1. 目标函数的`max`替换为`min`。
2. 约束条件的符号都变为$\geq$。

最后就很容易写成标准形了，根据标准形就可以画出对偶单纯形法计算表。

# 网络最大流
`FF算法`和`Dinic算法`在`Shusen Wang`的视频中讲解的很详细了，可是他的视频里面没有关于`Floyd最小费用的负回路算法`，于是下面就根据我自己的理解简单的说一下关于这个算法。
## 辅助网络
辅助网络其实根`Shusen Wang`视频中的`residual图`是差不多的，因为在`Shusen Wang`中的`residual图`中，一开始的流量$f_0$都是0的，但是在做题的时候初始流量$f_0$并不是0的，于是就需要构建辅助网络。

构造辅助网络很简单，只需要满足一下条件即可：
1. 如果$f_0=0$，则这条边什么也不需要动。
2. 如果$f_0=c$，$c$是这条边的容量，则需要将`权重`取反，`边`反方向。
3. 如果$0< f_0< c$，则这条边的容量$c=c-f_0$，权重不变；增加一条逆向边，边的权重取反，流量为$f_0$。

## Floyd算法
1. 用邻接矩阵表示点与点之间的距离。
2. 循环`n`次，`n`为点的个数，循环的每次都是以其中的一个点作为中间点，到另外的点的距离，以此更新邻接矩阵。
3. 得到任何一个点到另外一个点之间的最短距离，如果点到自身的距离是负数，则表示存在负回路。

时间复杂度：$n^3$，空间复杂度：$n^2$。


## Floyd最小费用的负回路算法
1. 构建一个辅助网络$(c,w)$。
2. 根据辅助网络，用`Floyd算法`检验是否存在负回路，如果存在负回路，则记录此负回路中的最小`容量`$c_0$，然后`顺`着此回路的方向的边，`流量`加上$c_0$，`逆`着此回路的方向的边，`流量`减去$c_0$；如果不存在负回路，则结束。
3. 更新辅助网络
4. 重复2，3步骤直到不存在负回路。